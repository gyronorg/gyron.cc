> 为了保持 API 文档实时更新，文档由`index.d.ts`文件自动生成。

## onBeforeMount

Lifecycle hooks, register a callback function that is called before the component is rendered.

**示例**

```js
import { h, onBeforeMount } from 'gyron'

const App = h(() => {
  onBeforeMount((component) => {
    component // self
  })
  return () => h('div', 'hello world')
})
```

**参数说明**

- callback - Callback function.

**类型声明**

```ts d
declare function onBeforeMount(callback: LifecycleCallback): void
```

## onAfterMount

Life cycle hooks, register a callback function to be called after the component has been rendered,
where you can get the real DOM information in the callback function.

**示例**

```js
import { h, onAfterMount } from 'gyron'

const App = h(() => {
  onAfterMount((component) => {
    component.$el // HTMLDivElement
  })
  return () => h('div', 'hello world')
})
```

**参数说明**

- callback - Callback function.

**类型声明**

```ts d
declare function onAfterMount(callback: LifecycleCallback): void
```

## onDestroyed

Lifecycle hook to register a callback function to be called after the component has been destroyed.

**示例**

```js
import { h, onDestroyed } from 'gyron'

const App = h(() => {
  const timer = setInterval(() => {
    console.log(Date.now())
  }, 1000)
  onDestroyed((component) => {
    clearInterval(timer)
  })
  return () => h('div', 'hello world')
})
```

**参数说明**

- callback - Callback function.

**类型声明**

```ts d
declare function onDestroyed(callback: LifecycleCallback): void
```

## onBeforeUpdate

Lifecycle hooks that register a callback function to be called before the component is updated.
Updates to the `Falsy` organisation itself and to child components can be returned.

**示例**

```js
import { h, onBeforeUpdate } from 'gyron'

const App = h(() => {
  onBeforeUpdate((prevProps, props) => {
    return false // The view will not be updated even when changes occur
  })
  return () => h('div', 'hello world')
})
```

**参数说明**

- callback - Callback function.

**类型声明**

```ts d
declare function onBeforeUpdate<T extends object>(
  callback: LifecycleUpdateCallback<T>
): void
```

## onAfterUpdate

Lifecycle hooks, register a callback function that is called before the component is rendered.

**示例**

```js
import { h, onAfterUpdate } from 'gyron'

const App = h(() => {
  onAfterUpdate((prevProps, props) => {
    component // self
  })
  return () => h('div', 'hello world')
})
```

**参数说明**

- callback - Callback function.

**类型声明**

```ts d
declare function onAfterUpdate(callback: LifecycleUpdateCallback): void
```

## getCurrentComponent

Get the current component object, but do not change or delete the values in it, as unintended errors may occur.

**示例**

```js
import { h, getCurrentComponent } from 'gyron'

const App = h(() => {
  const component = getCurrentComponent()
  return () => h('div', 'hello world')
})
```

**返回值**

Component

**类型声明**

```ts d
declare function getCurrentComponent(): Component<object>
```

## defineProps

~~incorrect code:~~

**示例**

```js
const { foo } = defineProps()
```

**类型声明**

```ts d
declare function defineProps<
  T extends object,
  R extends object = T & ComponentDefaultProps
>(defaultValue?: object): R
```

## exposeComponent

Exposes the data in the component for use by the parent component.

**示例**

```js
import { h, useValue, createRef, exposeComponent } from 'gyron'

const Child = h(() => {
  const name = useValue('foo')

  exposeComponent({ name })

  return h('div', null, name.value)
})

const App = h(() => {
  const ref = createRef()

  ref.current // {name: {value: 'foo'}}

  return () =>
    h(Child, {
      ref,
    })
})
```

**参数说明**

- exposed - object

**类型声明**

```ts d
declare function exposeComponent(exposed: Record<string | number, any>): void
```

## useWatch

Or you can use the second argument to automatically load a dependency that you don't need to use in the function, but pass the second argument if you need to make changes based on the dependency.

**示例**

```js
useWatch(() => {
  if (loading.value) {
    console.log('loading')
  }
}, [() => changed.value])
```

**类型声明**

```ts d
declare function useWatch<T = any>(
  watcher: EffectFunction<T>,
  dependency?: Dependency[]
): void
```

## FCA

Wrapping functions for asynchronous components, providing fallback solutions,
support for scenarios such as asynchronous import of packaging tools.

**示例**

```ts
import { FCA } from 'gyron'

interface Props {
  count: number
}

const Child = FCA<Props>(() => {
  return () => import('./Son')
})

export const App = FC(() => {
  return <Child fallback={<span>loading...</span>} count={1} />
})
```

**参数说明**

- componentAsyncFunction - function

**返回值**

function

**类型声明**

```ts d
declare function FCA<
  Props extends object = object,
  T extends AsyncComponentFunction<Props> = AsyncComponentFunction<Props>
>(componentAsyncFunction: T): WrapperFunction<Props>
```

## FC

Define a component that is primarily used for type derivation in typescript

**示例**

```ts
import { FC } from 'gyron'
interface Props {
  count: number
}

const Child = FC<Props>(() => {
  return ({ count }) => <span>{count}</span>
})

export const App = FC(() => {
  return <Child count={1} />
})
```

**参数说明**

- componentFunction - function

**返回值**

function

**类型声明**

```ts d
declare function FC<
  Props extends object = object,
  T extends ComponentSetupFunction<Props> = ComponentSetupFunction<Props>
>(componentFunction: T): WrapperFunction<Props>
```

## clearCacheComponent

Pass in the component function to clear the component cache.

**示例**

```js
import { h, keepComponent, clearCacheComponent } from 'gyron'

const App = keepComponent(() => {
  return h('div')
})

clearCacheComponent(App)
```

**参数说明**

- componentFunction - function

**类型声明**

```ts d
declare function clearCacheComponent(
  componentFunction: ComponentSetupFunction
): void
```

## keepComponent

A cached component is created and the state of the component can be retained at all times.
The component cache can be cleared using `clearCacheComponent`.

**示例**

```javascript
import { h, keepComponent } from 'gyron'

const App = keepComponent(() => {
  return h('div')
})
```

**参数说明**

- componentFunction - function

**返回值**

function

**类型声明**

```ts d
declare function keepComponent<
  Props extends object = object,
  T extends ComponentSetupFunction<Props> = ComponentSetupFunction<Props>
>(componentFunction: T): WrapperFunction<Props>
```
